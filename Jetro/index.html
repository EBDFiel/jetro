<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz EBD Fiel - Li√ß√£o 01: Jetro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== ESTILOS GLOBAIS ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --easy: #27ae60;
            --medium: #f39c12;
            --hard: #e74c3c;
            --primary: #2c3e50;
            --secondary: #3498db;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --text: #34495e;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: var(--text);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .container {
            max-width: 1000px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: var(--shadow);
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }

        /* ===== √ÅREA DA LOGO ===== */
        .logo-container {
            text-align: center;
            padding: 20px 0 0 0;
            z-index: 100;
        }

        .logo {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            border: 3px solid white;
            overflow: hidden;
            margin: 0 auto;
        }

        .logo-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 10px;
            background: white;
        }

        .logo-fallback {
            display: none;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.8rem;
            color: var(--primary);
            width: 100%;
            height: 100%;
        }

        /* ===== HEADER ===== */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px 40px 40px 40px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 2.3rem;
            margin-bottom: 15px;
            font-weight: 700;
            margin-top: 10px;
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .welcome-message {
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-size: 1.1rem;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.3);
        }

        .start-btn {
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            background: var(--easy);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin: 20px auto 0;
        }

        .start-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            background: var(--medium);
        }

        .quiz-info {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
        }

        .info-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
            font-size: 1rem;
        }

        /* ===== SE√á√ÉO DO QUIZ ===== */
        .quiz-section {
            display: none;
            padding: 30px;
        }

        .question {
            margin-bottom: 30px;
            padding: 25px;
            border-radius: 15px;
            background: white;
            box-shadow: var(--shadow);
            border-left: 5px solid var(--secondary);
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .question-difficulty {
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            color: white;
        }

        .difficulty-easy { background: var(--easy); }
        .difficulty-medium { background: var(--medium); }
        .difficulty-hard { background: var(--hard); }

        .question-text {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary);
        }

        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .option {
            padding: 18px 20px;
            background: var(--light);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            border: 2px solid transparent;
            position: relative;
        }

        .option:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* FEEDBACK NAS RESPOSTAS */
        .option.selected.correct {
            background: var(--easy);
            color: white;
            border-color: var(--easy);
            transform: translateY(-2px);
        }

        .option.selected.incorrect {
            background: var(--hard);
            color: white;
            border-color: var(--hard);
            transform: translateY(-2px);
        }

        .option.correct-answer {
            background: var(--easy);
            color: white;
            border-color: var(--easy);
            animation: pulse 0.6s ease;
        }

        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background: rgba(255,255,255,0.3);
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
        }

        .option.selected .option-letter,
        .option.correct-answer .option-letter {
            background: rgba(255,255,255,0.2);
        }

        .feedback-icon {
            margin-left: auto;
            font-size: 1.2rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .option.selected.correct .feedback-icon,
        .option.correct-answer .feedback-icon {
            opacity: 1;
        }

        .option.selected.incorrect .feedback-icon {
            opacity: 1;
        }

        /* BLOQUEIO DE RESPOSTAS */
        .option.locked {
            cursor: not-allowed;
        }

        .option.locked:hover {
            transform: none;
            box-shadow: none;
        }

        /* ===== NAVEGA√á√ÉO ===== */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        button {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            background: var(--primary);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        button:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-next {
            background: var(--secondary);
        }

        /* ===== RESULTADOS ===== */
        .results {
            text-align: center;
            padding: 40px;
            display: none;
        }

        .score {
            font-size: 4rem;
            font-weight: bold;
            color: var(--primary);
            margin: 20px 0;
        }

        .performance {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin: 30px 0;
        }

        .performance-item {
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            background: var(--light);
            min-width: 150px;
        }

        .performance-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .performance-easy { color: var(--easy); }
        .performance-medium { color: var(--medium); }
        .performance-hard { color: var(--hard); }

        .message {
            font-size: 1.3rem;
            margin: 30px 0;
            padding: 20px;
            border-radius: 15px;
            background: var(--light);
        }

        /* ===== BARRA DE PROGRESSO ===== */
        .progress-bar {
            height: 6px;
            background: var(--light);
            border-radius: 3px;
            margin: 20px 30px 0;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: var(--secondary);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        /* ===== INFORMA√á√ïES DA IGREJA ===== */
        .church-info {
            text-align: center;
            padding: 20px;
            background: var(--light);
            border-top: 1px solid #ddd;
        }

        .church-name {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .church-location {
            color: var(--text);
            opacity: 0.8;
        }

        .logo-status {
            background: var(--success);
            color: white;
            padding: 4px 8px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-top: 5px;
            display: inline-block;
        }

        /* ===== ANIMA√á√ïES ===== */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
            40% {transform: translateY(-10px);}
            60% {transform: translateY(-5px);}
        }

        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }

        .bounce {
            animation: bounce 0.6s;
        }

        /* ===== RESPONSIVIDADE ===== */
        @media (max-width: 768px) {
            .performance {
                flex-direction: column;
                align-items: center;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .question-header {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }

            .logo {
                width: 80px;
                height: 80px;
            }

            header {
                padding: 15px 20px 30px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container fade-in">
        <!-- √ÅREA DA LOGO CENTRALIZADA -->
        <div class="logo-container">
            <div class="logo">
                <img src="https://i.ibb.co/9mLXgx7k/logo.png" alt="Logo EBD Fiel" class="logo-img" id="logo-img">
                <div class="logo-fallback" id="logo-fallback">
                    <i class="fas fa-book-bible"></i>
                </div>
            </div>
            <div class="logo-status" id="logo-status" style="display: none;">
                <i class="fas fa-check"></i> Logo Carregada
            </div>
        </div>

        <header>
            <div class="header-content">
                <h1><i class="fas fa-crown"></i> Quiz B√≠blico - EBD Fiel</h1>
                <div class="subtitle">Li√ß√£o 01: Jetro - Conselhos S√°bios Aliviam Fardos</div>
                
                <div class="welcome-message">
                    <i class="fas fa-hands"></i> 
                    <strong>Seja bem-vindo ao Quiz da EBD Fiel!</strong><br>
                    Explore os conselhos s√°bios de Jetro a Mois√©s e aprenda princ√≠pios valiosos de lideran√ßa e organiza√ß√£o que continuam relevantes para n√≥s hoje.
                </div>

                <button class="start-btn" id="start-btn">
                    <i class="fas fa-play"></i> Iniciar Quiz
                </button>
                
                <div class="quiz-info">
                    <div class="info-item">
                        <i class="fas fa-star" style="color: var(--easy);"></i>
                        <span><strong>Quiz Completo:</strong> 15 perguntas sobre Jetro e seus conselhos</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-check-circle" style="color: var(--medium);"></i>
                        <span><strong>Feedback Imediato:</strong> Saiba na hora se acertou ou errou</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-graduation-cap" style="color: var(--hard);"></i>
                        <span><strong>Objetivo:</strong> Aprender sobre lideran√ßa e organiza√ß√£o segundo os princ√≠pios b√≠blicos</span>
                    </div>
                </div>
            </div>
        </header>
        
        <div class="quiz-section" id="quiz-section">
            <div class="progress-bar">
                <div class="progress" id="quiz-progress"></div>
            </div>
            
            <div class="quiz-container" id="quiz-container">
                <!-- Perguntas ser√£o inseridas aqui pelo JavaScript -->
            </div>
            
            <div class="navigation">
                <button id="prev-btn" disabled>
                    <i class="fas fa-arrow-left"></i> Anterior
                </button>
                <button id="next-btn" class="btn-next">
                    Pr√≥xima <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
        
        <div class="results" id="results">
            <h2><i class="fas fa-trophy"></i> Resultado Final</h2>
            <div class="score" id="score">0/0</div>
            
            <div class="performance" id="performance">
                <div class="performance-item">
                    <div class="performance-value" id="correct-easy">0</div>
                    <div>F√°ceis</div>
                </div>
                <div class="performance-item">
                    <div class="performance-value" id="correct-medium">0</div>
                    <div>M√©dias</div>
                </div>
                <div class="performance-item">
                    <div class="performance-value" id="correct-hard">0</div>
                    <div>Dif√≠ceis</div>
                </div>
            </div>
            
            <div class="message" id="message"></div>
            
            <button id="restart-btn" style="background: var(--easy);">
                <i class="fas fa-redo"></i> Fazer Quiz Novamente
            </button>
        </div>

        <!-- Informa√ß√µes da Igreja -->
        <div class="church-info">
            <div class="church-name" id="church-name">EBD FIEL</div>
            <div class="church-location" id="church-location">FIEL A PALAVRA</div>
        </div>
    </div>

    <script>
        // =============================================
        // CONFIGURA√á√ïES PERSONALIZ√ÅVEIS
        // =============================================
        
        // 1. CONFIGURA√á√ÉO DA LOGO
        const logoConfig = {
            imageUrl: "https://i.ibb.co/9mLXgx7k/logo.png",
            fallbackText: "EBD"
        };

        // 2. INFORMA√á√ïES DA IGREJA
        const churchInfo = {
            name: "EBD FIEL",
            location: "FIEL A PALAVRA"
        };

        // 3. CONFIGURA√á√ïES DO QUIZ
        const quizConfig = {
            title: "Li√ß√£o 01: Jetro - Conselhos S√°bios Aliviam Fardos",
            welcomeMessage: "Explore os conselhos s√°bios de Jetro a Mois√©s e aprenda princ√≠pios valiosos de lideran√ßa e organiza√ß√£o que continuam relevantes para n√≥s hoje.",
            theme: "Jetro e seus conselhos",
            objective: "Aprender sobre lideran√ßa e organiza√ß√£o segundo os princ√≠pios b√≠blicos"
        };

        // =============================================
        // BANCO DE PERGUNTAS - LI√á√ÉO 01: JETRO
        // =============================================
        
        const allQuestions = [
            // PERGUNTAS F√ÅCEIS (5)
            {
                question: "Quem era Jetro em rela√ß√£o a Mois√©s?",
                options: [
                    "Seu sogro",
                    "Seu irm√£o", 
                    "Seu pai",
                    "Seu tio"
                ],
                correct: 0,
                explanation: "Jetro era o sogro de Mois√©s, sacerdote de Midi√£ e pai de Z√≠pora, esposa de Mois√©s.",
                difficulty: "easy"
            },
            {
                question: "Qual era a nacionalidade de Jetro?",
                options: [
                    "Israelita",
                    "Eg√≠pcio", 
                    "Midianita",
                    "Cananeu"
                ],
                correct: 2,
                explanation: "Jetro era midianita, sacerdote de Midi√£, um povo que habitava a regi√£o des√©rtica ao leste do Golfo de √Åcaba.",
                difficulty: "easy"
            },
            {
                question: "O que Jetro observou que Mois√©s fazia sozinho o dia todo?",
                options: [
                    "Pregar para o povo",
                    "Oferecer sacrif√≠cios", 
                    "Julgar as causas do povo",
                    "Organizar o acampamento"
                ],
                correct: 2,
                explanation: "Jetro observou que Mois√©s julgava sozinho todas as causas e quest√µes do povo de Israel, desde a manh√£ at√© a tarde.",
                difficulty: "easy"
            },
            {
                question: "Qual foi a rea√ß√£o inicial de Jetro ao ver Mois√©s trabalhando sozinho?",
                options: [
                    "Aprova√ß√£o",
                    "Indiferen√ßa", 
                    "Preocupa√ß√£o",
                    "Admira√ß√£o"
                ],
                correct: 2,
                explanation: "Jetro ficou preocupado e questionou Mois√©s sobre por que ele trabalhava sozinho, enquanto todo o povo esperava em fila.",
                difficulty: "easy"
            },
            {
                question: "Qual era o nome da filha de Jetro que se casou com Mois√©s?",
                options: [
                    "Raquel",
                    "Z√≠pora", 
                    "Miri√£",
                    "D√©bora"
                ],
                correct: 1,
                explanation: "Z√≠pora era a filha de Jetro que se casou com Mois√©s durante seu tempo no deserto de Midi√£.",
                difficulty: "easy"
            },
            
            // PERGUNTAS M√âDIAS (5)
            {
                question: "Qual foi o principal conselho que Jetro deu a Mois√©s?",
                options: [
                    "Que constru√≠sse um templo",
                    "Que delegasse autoridade a outros l√≠deres", 
                    "Que voltasse para o Egito",
                    "Que jejuasse por 40 dias"
                ],
                correct: 1,
                explanation: "Jetro aconselhou Mois√©s a escolher homens capazes para ajud√°-lo a julgar o povo, delegando autoridade e dividindo responsabilidades.",
                difficulty: "medium"
            },
            {
                question: "Que qualidades Jetro sugeriu que Mois√©s buscasse nos l√≠deres que escolhesse?",
                options: [
                    "Homens ricos e influentes",
                    "Homens idosos e experientes", 
                    "Homens capazes, tementes a Deus, dignos de confian√ßa e inimigos do suborno",
                    "Homens da tribo de Levi apenas"
                ],
                correct: 2,
                explanation: "Jetro recomendou que Mois√©s escolhesse homens capazes, tementes a Deus, dignos de confian√ßa e inimigos do suborno para ajud√°-lo no julgamento do povo.",
                difficulty: "medium"
            },
            {
                question: "Como Mois√©s reagiu ao conselho de Jetro?",
                options: [
                    "Rejeitou imediatamente",
                    "Pediu tempo para pensar", 
                    "Aceitou e implementou o conselho",
                    "Consultou primeiro Ar√£o"
                ],
                correct: 2,
                explanation: "A B√≠blia relata que Mois√©s aceitou o conselho de Jetro e o colocou em pr√°tica, escolhendo homens capazes para ajud√°-lo no governo do povo.",
                difficulty: "medium"
            },
            {
                question: "Que tipos de casos Mois√©s continuaria a julgar pessoalmente, segundo o conselho de Jetro?",
                options: [
                    "Casos criminais graves",
                    "Casos envolvendo roubo", 
                    "Casos dif√≠ceis que trouxessem a ele",
                    "Casos de disputas familiares"
                ],
                correct: 2,
                explanation: "Jetro sugeriu que os casos mais simples fossem julgados pelos l√≠deres escolhidos, enquanto os casos dif√≠ceis seriam trazidos a Mois√©s.",
                difficulty: "medium"
            },
            {
                question: "Qual era o objetivo principal do conselho de Jetro?",
                options: [
                    "Tornar Mois√©s mais popular",
                    "Economizar recursos", 
                    "Aliviar o fardo de Mois√©s e do povo",
                    "Preparar sucessores para Mois√©s"
                ],
                correct: 2,
                explanation: "O conselho visava aliviar o fardo tanto de Mois√©s quanto do povo, que esperava horas para ser atendido, tornando o processo de julgamento mais eficiente.",
                difficulty: "medium"
            },
            
            // PERGUNTAS DIF√çCEIS (5)
            {
                question: "Em que livro e cap√≠tulo da B√≠blia encontramos a hist√≥ria do conselho de Jetro a Mois√©s?",
                options: [
                    "√äxodo 18",
                    "N√∫meros 11", 
                    "Deuteron√¥mio 1",
                    "√äxodo 3"
                ],
                correct: 0,
                explanation: "A hist√≥ria completa do conselho de Jetro a Mois√©s est√° registrada em √äxodo 18, vers√≠culos 13-27.",
                difficulty: "hard"
            },
            {
                question: "Que princ√≠pio de administra√ß√£o moderna podemos identificar no conselho de Jetro?",
                options: [
                    "Centraliza√ß√£o do poder",
                    "Departamentaliza√ß√£o", 
                    "Delega√ß√£o de autoridade e descentraliza√ß√£o",
                    "Automa√ß√£o de processos"
                ],
                correct: 2,
                explanation: "O conselho de Jetro introduz o princ√≠pio da delega√ß√£o de autoridade e descentraliza√ß√£o, onde tarefas s√£o distribu√≠das conforme a complexidade, mantendo apenas os casos mais importantes com o l√≠der principal.",
                difficulty: "hard"
            },
            {
                question: "Qual era a rela√ß√£o entre o conselho de Jetro e a teocracia estabelecida por Deus em Israel?",
                options: [
                    "Era contradit√≥rio",
                    "N√£o havia rela√ß√£o", 
                    "Era uma implementa√ß√£o pr√°tica da teocracia",
                    "Era uma forma de governo secular"
                ],
                correct: 2,
                explanation: "O sistema proposto por Jetro era uma implementa√ß√£o pr√°tica da teocracia, onde Deus continuava sendo a autoridade suprema, mas o governo era exercido atrav√©s de uma estrutura organizada de l√≠deres que temiam a Deus.",
                difficulty: "hard"
            },
            {
                question: "Como o conselho de Jetro impactou a organiza√ß√£o do povo de Israel posteriormente?",
                options: [
                    "Foi abandonado rapidamente",
                    "Influenciou o sistema de ju√≠zes", 
                    "Serviu de base para a monarquia",
                    "Foi substitu√≠do pelo sacerd√≥cio lev√≠tico"
                ],
                correct: 1,
                explanation: "O princ√≠pio de delegar autoridade a l√≠deres capacitados influenciou posteriormente o sistema de ju√≠zes em Israel e demonstrou a import√¢ncia da divis√£o de responsabilidades no governo do povo de Deus.",
                difficulty: "hard"
            },
            {
                question: "Que li√ß√£o espiritual importante podemos aprender do epis√≥dio de Jetro e Mois√©s?",
                options: [
                    "Que devemos sempre trabalhar sozinhos",
                    "Que a sabedoria pode vir de fontes inesperadas", 
                    "Que sogros sempre d√£o bons conselhos",
                    "Que l√≠deres n√£o devem ouvir conselhos"
                ],
                correct: 1,
                explanation: "O epis√≥dio nos ensina que a sabedoria e orienta√ß√£o divina podem vir atrav√©s de pessoas inesperadas, como Jetro, um midianita, e que humildade para receber conselhos √© essencial para um l√≠der eficaz.",
                difficulty: "hard"
            }
        ];

        // =============================================
        // C√ìDIGO DO QUIZ - CORRIGIDO
        // =============================================

        // Vari√°veis globais
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let score = 0;
        let correctByDifficulty = { easy: 0, medium: 0, hard: 0 };
        let answerSelected = false;
        let answeredQuestions = new Set();

        // Elementos DOM
        const startBtn = document.getElementById('start-btn');
        const quizSection = document.getElementById('quiz-section');
        const quizContainer = document.getElementById('quiz-container');
        const resultsSection = document.getElementById('results');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const scoreElement = document.getElementById('score');
        const messageElement = document.getElementById('message');
        const progressBar = document.getElementById('quiz-progress');
        const logoImg = document.getElementById('logo-img');
        const logoFallback = document.getElementById('logo-fallback');
        const logoStatus = document.getElementById('logo-status');
        const churchNameEl = document.getElementById('church-name');
        const churchLocationEl = document.getElementById('church-location');
        const correctEasyEl = document.getElementById('correct-easy');
        const correctMediumEl = document.getElementById('correct-medium');
        const correctHardEl = document.getElementById('correct-hard');

        // Fun√ß√£o para embaralhar array (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Fun√ß√£o para mostrar fallback se a logo n√£o carregar
        function showLogoFallback() {
            logoImg.style.display = 'none';
            logoFallback.style.display = 'flex';
            logoStatus.style.display = 'none';
        }

        // Fun√ß√£o para mostrar sucesso no carregamento
        function showLogoSuccess() {
            logoStatus.style.display = 'block';
            logoStatus.innerHTML = '<i class="fas fa-check"></i> Logo Carregada';
            logoStatus.style.background = '#27ae60';
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Configurar informa√ß√µes da igreja
            setupChurchInfo();
            
            // Configurar event listeners
            startBtn.addEventListener('click', startQuiz);
            prevBtn.addEventListener('click', goToPreviousQuestion);
            nextBtn.addEventListener('click', goToNextQuestion);
            restartBtn.addEventListener('click', restartQuiz);

            // Verificar se a logo carregou
            logoImg.addEventListener('load', function() {
                showLogoSuccess();
            });

            logoImg.addEventListener('error', function() {
                showLogoFallback();
            });

            // Verificar se a imagem carregou ap√≥s 2 segundos
            setTimeout(function() {
                if (logoImg.naturalHeight === 0) {
                    showLogoFallback();
                }
            }, 2000);
        });

        function setupChurchInfo() {
            churchNameEl.textContent = churchInfo.name;
            churchLocationEl.textContent = churchInfo.location;
        }

        function startQuiz() {
            // Embaralhar todas as perguntas
            currentQuestions = shuffleArray([...allQuestions]);
            currentQuestionIndex = 0;
            userAnswers = new Array(currentQuestions.length).fill(-1);
            score = 0;
            correctByDifficulty = { easy: 0, medium: 0, hard: 0 };
            answerSelected = false;
            answeredQuestions.clear();
            
            // Mostrar se√ß√£o do quiz
            quizSection.style.display = 'block';
            document.querySelector('header').style.padding = '20px 40px 30px 40px';
            
            showCurrentQuestion();
        }

        function showCurrentQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            const difficultyClass = `difficulty-${question.difficulty}`;
            const difficultyText = question.difficulty === 'easy' ? 'F√°cil' : 
                                 question.difficulty === 'medium' ? 'M√©dio' : 'Dif√≠cil';
            
            const isAnswered = answeredQuestions.has(currentQuestionIndex);
            
            let optionsHTML = '';
            question.options.forEach((option, index) => {
                const isSelected = userAnswers[currentQuestionIndex] === index;
                const isCorrect = index === question.correct;
                let optionClass = 'option';
                
                if (isAnswered) {
                    optionClass += ' locked';
                }
                
                if (isSelected) {
                    optionClass += isCorrect ? ' selected correct' : ' selected incorrect';
                }
                
                const feedbackIcon = isSelected ? 
                    (isCorrect ? '<i class="fas fa-check feedback-icon"></i>' : '<i class="fas fa-times feedback-icon"></i>') : 
                    '';
                
                optionsHTML += `
                    <div class="${optionClass}" data-option="${index}" data-correct="${isCorrect}">
                        <span class="option-letter">${String.fromCharCode(65 + index)}</span>
                        ${option}
                        ${feedbackIcon}
                    </div>
                `;
            });
            
            quizContainer.innerHTML = `
                <div class="question fade-in">
                    <div class="question-header">
                        <div class="question-text">${question.question}</div>
                        <div class="question-difficulty ${difficultyClass}">
                            ${difficultyText}
                        </div>
                    </div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                </div>
            `;
            
            // CORRE√á√ÉO: Adicionar event listeners para as op√ß√µes
            addOptionEventListeners();
            
            updateNavigation();
            updateProgressBar();
            answerSelected = isAnswered;
        }

        // CORRE√á√ÉO: Fun√ß√£o separada para adicionar event listeners
        function addOptionEventListeners() {
            const options = quizContainer.querySelectorAll('.option');
            options.forEach(option => {
                if (!option.classList.contains('locked')) {
                    option.addEventListener('click', function() {
                        if (!answerSelected) {
                            selectAnswer(parseInt(this.dataset.option));
                        }
                    });
                }
            });
        }

        function selectAnswer(answerIndex) {
            userAnswers[currentQuestionIndex] = answerIndex;
            answerSelected = true;
            answeredQuestions.add(currentQuestionIndex);
            
            const question = currentQuestions[currentQuestionIndex];
            const isCorrect = answerIndex === question.correct;
            
            // Atualizar a pergunta para mostrar o feedback
            showCurrentQuestion();
            
            // Se a resposta estiver errada, mostrar a correta ap√≥s um breve delay
            if (!isCorrect) {
                setTimeout(() => {
                    const correctOption = quizContainer.querySelector(`.option[data-correct="true"]`);
                    if (correctOption) {
                        correctOption.classList.add('correct-answer');
                        correctOption.classList.add('bounce');
                    }
                }, 500);
            }
        }

        function updateNavigation() {
            prevBtn.disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === currentQuestions.length - 1) {
                nextBtn.innerHTML = 'Finalizar <i class="fas fa-flag-checkered"></i>';
            } else {
                nextBtn.innerHTML = 'Pr√≥xima <i class="fas fa-arrow-right"></i>';
            }
            
            nextBtn.disabled = !answerSelected;
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / currentQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
        }

        function goToNextQuestion() {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                answerSelected = answeredQuestions.has(currentQuestionIndex);
                showCurrentQuestion();
            } else {
                showResults();
            }
        }

        function goToPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                answerSelected = answeredQuestions.has(currentQuestionIndex);
                showCurrentQuestion();
            }
        }

        function showResults() {
            score = 0;
            correctByDifficulty = { easy: 0, medium: 0, hard: 0 };
            
            currentQuestions.forEach((question, index) => {
                if (userAnswers[index] === question.correct) {
                    score++;
                    correctByDifficulty[question.difficulty]++;
                }
            });
            
            const percentage = (score / currentQuestions.length) * 100;
            let message = '';
            let icon = '';
            
            if (percentage >= 90) {
                message = 'üéâ Excelente! Voc√™ demonstrou grande conhecimento sobre Jetro e seus conselhos!';
                icon = '<i class="fas fa-crown fa-2x" style="color: #f39c12;"></i>';
            } else if (percentage >= 70) {
                message = 'üëè Muito bom! Voc√™ compreendeu bem a li√ß√£o sobre lideran√ßa e delega√ß√£o.';
                icon = '<i class="fas fa-trophy fa-2x" style="color: #3498db;"></i>';
            } else if (percentage >= 50) {
                message = 'üëç Bom trabalho! Continue estudando e aprendendo.';
                icon = '<i class="fas fa-star fa-2x" style="color: #27ae60;"></i>';
            } else {
                message = 'üí° Estude um pouco mais e tente novamente! Cada li√ß√£o traz ensinamentos valiosos.';
                icon = '<i class="fas fa-book fa-2x" style="color: #e74c3c;"></i>';
            }
            
            scoreElement.textContent = `${score}/${currentQuestions.length}`;
            correctEasyEl.textContent = correctByDifficulty.easy;
            correctMediumEl.textContent = correctByDifficulty.medium;
            correctHardEl.textContent = correctByDifficulty.hard;
            
            messageElement.innerHTML = `${icon}<div style="margin-top: 15px;">${message}</div>`;
            
            quizSection.style.display = 'none';
            resultsSection.style.display = 'block';
        }

        function restartQuiz() {
            resultsSection.style.display = 'none';
            quizSection.style.display = 'none';
            document.querySelector('header').style.padding = '20px 40px 40px 40px';
            
            currentQuestions = [];
            currentQuestionIndex = 0;
            userAnswers = [];
            score = 0;
            correctByDifficulty = { easy: 0, medium: 0, hard: 0 };
            answerSelected = false;
            answeredQuestions.clear();
        }
    </script>
</body>
</html>